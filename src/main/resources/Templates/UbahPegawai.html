<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css" />
<link rel="stylesheet"
	href="https://cdn.datatables.net/buttons/1.5.6/css/buttons.bootstrap.min.css" />
<link href="css/style.css" rel="stylesheet" />
<title></title>
</head>
<style>
.boxContainer {
	background-color: #fdfdfd;
	border-radius: 10px;
	padding: 20px 16px;
	margin: 0px 20px;
	box-shadow: 0 0px 9px 0 rgba(0, 0, 0, 0.16), 0 2px 0px 0
		rgba(0, 0, 0, 0.12);
}

.boxContainer2 {
	background-color: hsl(0, 0%, 96%);
	border-radius: 10px;
	padding: 20px 16px 20px 20px;
	margin: 20px 20px;
}

thead th {
	background-color: #f1f7fd;
	color: #ffffff;
}

.blankspace {
	margin-top: 20px;
}
</style>

<body>
<nav th:replace="fragments/fragment :: navbar"></nav>
	<div class="blankspace">
		<div class="boxContainer2">
			<!-- Belum muncul -->
			<h2 style="display: inline;">Ubah Data Pegawai</h2>
			<form th:action="@{'/pegawai/ubah/' + *{id}} " th:object="${pegawai}"
				method="POST">

				<input type="hidden" id="id" name="id" th:field="*{id}"> <input
					type="hidden" id="gaji_pokok" name="gaji_pokok"
					th:field="*{gaji_pokok}"> <input type="hidden"
					id="tunjangan_tetap" name="tunjangan_tetap"
					th:field="*{tunjangan_tetap}"> <input type="hidden"
					id="tunjangan_tidak_tetap" name="tunjangan_tidak_tetap"
					th:field="*{tunjangan_tidak_tetap}"> <input type="hidden"
					name="jaminan" th:field="*{jaminan}">  <input
					type="hidden" name="nama_sekolah"
					th:field="*{pelamar_id.nama_sekolah}"> <input type="hidden"
					name="pendidikan_terakhir"
					th:field="*{pelamar_id.pendidikan_terakhir}"> <input
					type="hidden" name="jurusan" th:field="*{pelamar_id.jurusan}">
				<input type="hidden" name="apply_date"
					th:field="*{pelamar_id.apply_date}"> <input type="hidden"
					name="tempat_sekolah" th:field="*{pelamar_id.tempat_sekolah}"> <input
					type="hidden" name="join_date" th:field="*{join_date}"> <input
					type="hidden" name="tempat_sekolah" th:field="*{end_date}">

				<input type="hidden" name="id" th:field="${pegawai.pelamar_id.id}">

				<div class="form-row">
					<div class="form-group col-md-6"></div>
					<div class="form-group col-md-6"></div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="nip">NIP</label> <input 
							oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
						    type = "number"
						    maxlength = "3"
							class="form-control" id="nip" th:field="*{nip}" name="nip"
							required />
					</div>
					<div class="form-group col-md-6">
						<label for="no_arsip">Nomor Arsip</label> <input type="text"
							class="form-control" id="no_arsip"
							placeholder="Masukkan Nomor Arsip" th:field="*{no_arsip}"
							required />
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="nama_Lengkap">Nama Lengkap</label> <input type="text"
							class="form-control" id="nama_lengkap"
							placeholder="Masukkan Nama Lengkap"
							th:field="*{pelamar_id.nama_lengkap}" required />
					</div>
					<div class="form-group col-md-6">
						<label for="nama_panggilan">Nama Panggilan</label> <input
							type="text" class="form-control" id="nama_panggilan"
							th:field="*{pelamar_id.nama_panggilan}" />
					</div>
				</div>

				<div class="form-row">
					<div class="form-group col-md-3">
						<label for="tanggal_lahir"> Tanggal Lahir </label> <input
							type="date" class="form-control" id="tanggal_lahir"
							th:field="*{pelamar_id.tanggal_lahir}" required />
					</div>
					<div th:if="${pegawai.pelamar_id.gender == 'Laki-laki'}"
						class="form-group col-md-3">
						<label for="inputAddress">Jenis Kelamin *</label><br> <input
							type="radio" name="gender" th:field="*{pelamar_id.gender}"
							value="Laki-laki" checked> Laki-laki <input type="radio"
							name="gender" th:field="*{pelamar_id.gender}" value="Perempuan">
						Perempuan
					</div>

					<div th:unless="${pegawai.pelamar_id.gender == 'Laki-laki'}"
						class="form-group col-md-3">
						<label for="inputAddress">Jenis Kelamin *</label><br> <input
							type="radio" name="gender" th:field="*{pelamar_id.gender}"
							value="Laki-laki"> Laki-laki <input type="radio"
							name="gender" th:field="*{pelamar_id.gender}" value="Perempuan"
							checked> Perempuan
					</div>


					<div
						th:if="${pegawai.pelamar_id.status_marital == 'Sudah Menikah'}"
						class="form-group col-md-4">
						<label for="inputAddress">Status Marital *</label><br> <input
							type="radio" name="status_marital"
							th:field="*{pelamar_id.status_marital}" value="Sudah Menikah"
							checked> Sudah Menikah <input type="radio"
							name="status_marital" th:field="*{pelamar_id.status_marital}"
							value="Belum Menikah"> Belum Menikah
					</div>

					<div
						th:unless="${pegawai.pelamar_id.status_marital == 'Sudah Menikah'}"
						class="form-group col-md-4">
						<label for="inputAddress"> Status Marital *</label><br> <input
							type="radio" name="status_marital"
							th:field="*{pelamar_id.status_marital}" value="Sudah Menikah">
						Sudah Menikah <input type="radio" name="status_marital"
							th:field="*{pelamar_id.status_marital}" value="Belum Menikah"
							checked> Belum Menikah
					</div>

					<div class="form-group col-md-4"></div>

				</div>

				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="alamat">Alamat</label> <input type="text"
							class="form-control" id="alamat" th:field="*{pelamar_id.alamat}" />
					</div>
					<div class="form-group col-md-4">
						<label for="region"> Region </label> <input type="text"
							class="form-control" id="region"
							th:field="${pegawai.pelamar_id.region}" required />
					</div>
					<div class="form-group col-md-4"></div>
				</div>
				<div class="form-row">
<!-- 					<div class="form-group col-md-6">
						<label for="telepon">Telepon</label> <input type="text"
							class="form-control" id="telepon"
							placeholder="Masukkan Nomor Telepon"
							th:field="*{pelamar_id.nomor_handphone}" required />
					</div> -->
					<div class="form-group col-md-6">
						<label for="nomor_Whatsapp">Nomor Whatsapp</label> <input
							oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
						    type = "number"
						    maxlength = "3"
							class="form-control" id="nomor_Whatsapp"
							placeholder="Masukkan Nomor Whatsapp"
							th:field="*{pelamar_id.nomor_whatsapp}" />
					</div>


				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="telepon_orang_terdekat">Nomor Telepon Orang
							Terdekat</label> <input 
							oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
						    type = "number"
						    maxlength = "3" 
							class="form-control" id="telepon_orang_terdekat"
							placeholder="Masukkan Nomor Telepon Orang Terdekat"
							th:field="*{pelamar_id.telepon_orang_terdekat}" />
					</div>
					<div class="form-group col-md-6"></div>
				</div>

				<div class="form-row">
					<div class="form-group col-md-6"></div>
					<div class="form-group col-md-6"></div>
				</div>

				<div class="form-row">
					<div class="form-group col-md-12">
						<h6>No.Identitas</h6>
						<hr>
					</div>
				</div>

				<div class="form-row">
					<div class="form-group col-md-12">
						<label for="no_ktp">No.KTP</label> <input 
						  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
						    type = "number"
						    maxlength = "3"
							class="form-control" id="no_ktp" placeholder="Masukkan Nomor KTP"
							th:field="*{pelamar_id.no_ktp}" required />
							
					</div>

				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="pkwt">No.PKWT</label> <input 
						oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
						    type = "number"
						    maxlength = "3"
							class="form-control" id="pkwt" placeholder="Masukkan PKWT"
							th:field="*{pkwt}" required />
					</div>
					<div class="form-group col-md-6">
						<label for="npwp">No.NPWP</label> <input type="text"
							class="form-control" id="npwp" placeholder="Masukkan Nomor NPWP"
							th:field="*{npwp}" required />
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="bpjstk">No.BPJS Ketenagakerjaan</label> <input
							type="number" class="form-control" id="bpjstk"
							placeholder="Masukkan Nomor BPJS Ketenagakerjaan"
							th:field="*{bpjstk}" required />
					</div>
					<div class="form-group col-md-6">
						<label for="bpjsk">No.BPJS Kesehatan</label> <input type="number"
							class="form-control" id="bpjsk"
							placeholder="Masukkan Nomor BPJS Kesehatan" th:field="*{bpjsk}"
							required />
					</div>
				</div>

				<div class="form-row">
					<div class="form-group col-md-6"></div>
					<div class="form-group col-md-6"></div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-12">
						<h6>Informasi Rekening</h6>
						<hr>
					</div>
				</div>

				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="nama_bank">Nama Bank</label> <input type="text"
							class="form-control" id="nama_bank"
							placeholder="Masukkan Nama Bank" th:field="*{nama_bank}" />
					</div>
					<div class="form-group col-md-6">
						<label for="no_rekening">No.Rekening</label> <input 
						oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
						    type = "number"
						    maxlength = "3"
							class="form-control" id="no_rekening"
							placeholder="Masukkan Nomor Rekening" th:field="*{no_rekening}" />
					</div>
					<br>
					<br>
				</div>


				<div class="form-row">
					<div class="form-group col-md-12">
						<h6>Proyek</h6>
						<hr>
					</div>
				</div>
				
				<div class="form-row">

					<div class="form-group col-md-6">
						<label for="namaLengkap">Nama Proyek</label> <input type="text"
							class="form-control" id="proyek" placeholder=""
							th:value="${pegawai.proyek.nama_proyek}" disabled />

					</div>

					<div class="form-group col-md-6">
						<label for="join_date">Join Date</label> <input
							th:if="${pegawai.status}" type="date" class="form-control"
							id="join_date" name="join_date" th:field="*{join_date}" /> <input
							th:unless="${pegawai.status}" type="text" class="form-control"
							th:value="'dd/mm/yy'" disabled />

					</div>

				</div>


				<div class="form-row">
					<div class="form-group col-md-4">
						<label for="nama_produk"> Produk </label> <select
							th:if="${pegawai.status}" id="produk" class="form-control" th:field="*{produk}" >
							<!-- <option  th:value= "*{produk.id}" th:field="*{produk.nama_produk}" disabled selected></option>  -->
							<option th:each="produk: ${produk}" th:value="${produk.id}" th:text="${produk.nama_produk}">Wireframe</option>
						</select>
						 <select th:unless="${pegawai.status}" id="produk"
							class="form-control">
							<option th:unless="${pegawai.status}"
								th:text="${pegawai.produk.nama_produk}" th:value="*{produk.id}"
								th:selected="${pegawai.produk.nama_produk}" disabled></option>
						<!-- 	th:field="*{produk.nama_produk}" --> 
						</select>
					</div>


					<div class="form-group col-md-2" th:if="${pegawai.status}">
 						<label for="jabatan">Jabatan</label> 
 						<input type="text" class="form-control" id="jabatan" name="jabatan" th:field="${pegawai.jabatan}"/>
					</div>

					<div class="form-group col-md-2" th:unless="${pegawai.status}">
 						<label for="jabatan">Jabatan</label> 
 						<input type="text" class="form-control" id="jabatan" name="jabatan" value="None" disabled>
 						<input th:field="${pegawai.jabatan}" hidden />
					</div> 


					<div class="form-group col-md-6">
						<label for="endDate">End Date</label> <input
							th:if="${pegawai.status}" type="date" class="form-control"
							name="end_date" id="end_date" th:field="*{end_date}" /> <input
							th:unless="${pegawai.status}" type="text" class="form-control"
							id="end_date" th:value="'dd/mm/yy'" disabled />
					</div>
					
					<div class="form-row">
					<div class="form-group col-md-12">
						<button class="btn btn-primary btn-large" style="float: right;"
							type="submit">Simpan</button>
						<button class="btn btn-info btn-danger"
							style="float: right; margin-right: 10px;">Batalkan</button>
					</div>
					</div>


				</div>
			</form>

		</div>



	</div>
	</div>
	<!-- <hr />
	</div>
	</div> -->


	<script type="text/javascript"
		src="/media/js/site.js?_=994321fabf3873df746bb8bbccd1886a"></script>
	<script type="text/javascript"
		src="/media/js/dynamic.php?comments-page=extensions%2Fbuttons%2Fexamples%2Fstyling%2Fbootstrap.html"
		async></script>
	<script type="text/javascript" language="javascript"
		src="https://code.jquery.com/jquery-3.3.1.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.bootstrap.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.colVis.min.js"></script>
	<script type="text/javascript" language="javascript"
		src="../../../../examples/resources/demo.js"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
	<script type="text/javascript" class="init"></script>
</body>

<footer></footer>

<script>
	$(document).ready(
			function() {
				// Setup - add a text input to each footer cell

				var table = $("#example").DataTable({
					scrollY : "500px",
					sScrollX : "100%",
					sScrollXInner : "100%",
					scrollCollapse : true,
					buttons : [ "copy", "csv", "excel", "pdf", "print" ]
				});

				table.buttons().container().appendTo(
						"#example_wrapper .col-sm-12:eq(0)");
			});

	$("#example tfoot th")
			.each(
					function() {
						var title = $(this).text();
						$(this)
								.html(
										'<input type="text" placeholder="Search ' + title + '" />');
					});
	// DataTable
	var docDefinition = {
		pageSize : "A4"
	};

	$("#myModal").on("shown.bs.modal", function() {
		$("#myInput").trigger("focus");
	});

	function Download() {
		var x = $("example").children();
		var fullText = "";
		$.each(x, function(index, value) {
			//console.log(value);
			fullText += $(this).context.innerText + ",";
			console.log($(this).context.innerText);
		});

		var docDefinition2 = {
			content : [ fullText ]
		};
		// this is just a simulation of the open event, replacing it with print produces the same result
		var docDefinition = {
			content : [
					{
						text : "Liat var docDefinition sama docDefinition2 di javascript Download(), baca dokumentasi",
						fontSize : 20
					}, {
						text : "Dokumentasi di http://pdfmake.org",
						fontSize : 15
					}, {
						text : "-dimas",
						fontSize : 15
					} ]
		};

		pdfMake.createPdf(docDefinition).download("gg.pdf");
	}

	$(function() {
		var table2 = $("#example").DataTable();

		// Apply the search
		table2.columns().every(function() {
			var that = this;

			$("input", this.footer()).on("keyup change", function() {
				if (that.search() !== this.value) {
					that.search(this.value).draw();
				}
			});
		});
	});
</script>

</html>